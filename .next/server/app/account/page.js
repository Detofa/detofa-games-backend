(()=>{var e={};e.id=1298,e.ids=[1298],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11504:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Detofa\\\\Game\\\\detofa-games-backend\\\\src\\\\app\\\\account\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Detofa\\Game\\detofa-games-backend\\src\\app\\account\\page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31918:(e,t,r)=>{Promise.resolve().then(r.bind(r,11504))},33638:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(60687),n=r(43210),o=r(21741),a=r(16189);let i=()=>{let{token:e,isLoggedIn:t}=(0,o.Jd)(),[r,i]=(0,n.useState)(null),[d,l]=(0,n.useState)(!0),[c,u]=(0,n.useState)(null),[p,h]=(0,n.useState)(null),m=(0,a.useRouter)();(0,n.useEffect)(()=>{if(!t)return void m.replace("/signin");e&&(l(!0),fetch("/api/users/profile",{headers:{Authorization:`Bearer ${e}`}}).then(async e=>{if(!e.ok)throw Error(await e.text());return e.json()}).then(e=>{i(e),u(null)}).catch(e=>{u("Failed to load profile"),i(null)}).finally(()=>l(!1)))},[e,t,m]);let x=async()=>{if(window.confirm("Are you sure you want to request deletion of your account data? This action cannot be undone.")){h("pending");try{let t=await fetch("/api/users/profile",{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error(await t.text());h("success")}catch(e){h("error")}}};return t?(0,s.jsx)("section",{className:"relative z-10 overflow-hidden pt-36 pb-16 md:pb-20 lg:pt-[180px] lg:pb-28",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"My Account"}),d&&(0,s.jsx)("p",{children:"Loading profile..."}),c&&(0,s.jsx)("p",{className:"text-red-500",children:c}),r&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",r.name]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",r.email]}),r.phone&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Phone:"})," ",r.phone]})]}),(0,s.jsx)("button",{onClick:x,className:"rounded bg-red-600 px-6 py-3 text-white font-semibold hover:bg-red-700 transition",disabled:"pending"===p,children:"pending"===p?"Requesting...":"Request Data Deletion"}),"success"===p&&(0,s.jsx)("p",{className:"mt-4 text-green-600 font-semibold",children:"Your data deletion request has been submitted. Our team will process it soon."}),"error"===p&&(0,s.jsx)("p",{className:"mt-4 text-red-600 font-semibold",children:"Failed to submit request. Please try again."})]})}):null}},33873:e=>{"use strict";e.exports=require("path")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},86882:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(65239),n=r(48088),o=r(88170),a=r.n(o),i=r(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let l={children:["",{children:["account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,11504)),"D:\\Detofa\\Game\\detofa-games-backend\\src\\app\\account\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"D:\\Detofa\\Game\\detofa-games-backend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\Detofa\\Game\\detofa-games-backend\\src\\app\\account\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/account/page",pathname:"/account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},94966:(e,t,r)=>{Promise.resolve().then(r.bind(r,33638))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7719,1576,9099],()=>r(86882));module.exports=s})();